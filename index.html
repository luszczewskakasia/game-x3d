<html> 
    <head> 
        <title>My first X3DOM page</title> 			
        <script type='text/javascript' src='http://www.x3dom.org/download/x3dom.js'> </script> 
        <link rel='stylesheet' type='text/css' href='http://www.x3dom.org/download/x3dom.css'></link> 

    </head> 
    <body> 
        <h1>Chess/Draughts board</h1> 
        <x3d width="800px" height="600px">
            <scene>

                <background skyColor='0.5 0.5 0.5'></background>
    
                <!-- Viewpoint with a description -->
                <viewpoint description="frontal view" position="0 0 4"></viewpoint>
                <directionalLight direction="0 -1 -1" intensity="0.8"></directionalLight>
                <!-- PointLight with blue color -->
                <!-- <pointlight color='0 0 1' location='0 5 10' intensity='0.9' ambientIntensity='0.5'></pointlight> -->
    
                <!-- Shape with Box geometry -->
                <Transform translation='0 -0.05 0'>
                <shape>
                    <box size='6 0.1 6'></box>
                    <appearance>
                        <material diffuseColor="0.6 0.3 0.1"></material>
                    </appearance>
                </shape>
                </Transform>
                <script type="text/javascript">
                    const chessboard = document.querySelector('scene');
    
                    const squareSize = 0.5; // Size of each square
                    const rows = 8;       // Number of rows
                    const cols = 8;       // Number of columns
    
                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const color = (row + col) % 2 === 0 ? '1 1 0.55' : '0 0.7 0.2';
                            const translationX = col * squareSize - (cols * squareSize) / 2 + squareSize / 2;
                            const translationZ = row * squareSize - (rows * squareSize) / 2 + squareSize / 2;
    
                            const squareTransform = document.createElement('Transform');
                            squareTransform.setAttribute('translation', `${translationX} 0 ${translationZ}`);
                            squareTransform.innerHTML = `
                                <shape>
                                    <box size='0.5 0.01 0.5'></box>
                                    <appearance>
                                        <material diffuseColor='${color}'></material>
                                    </appearance>
                                </shape>
                            `;
    
                            chessboard.appendChild(squareTransform);
                        }
                    }
                </script>

            </scene>
            </x3d>

    </body> 
    </html>   